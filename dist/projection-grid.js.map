{"version":3,"sources":["webpack/universalModuleDefinition","webpack/bootstrap 393d4c26125ea5402f82","webpack-src:///projection-grid-example/js\\index.js","webpack-src:///projection-grid-example/js\\grid-view.js","external \"underscore\"","external \"backbone\"","webpack-src:///projection-grid-example/js\\model\\index.js","webpack-src:///projection-grid-example/js\\windowContainer.js","external \"jquery\"","webpack-src:///projection-grid-example/js\\containerBase.js","webpack-src:///projection-grid-example/js\\elementContainer.js","webpack-src:///projection-grid-example/js\\projection\\index.js","webpack-src:///projection-grid-example/js\\projection\\aggregate-row.js","webpack-src:///projection-grid-example/js\\projection\\base.js","webpack-src:///projection-grid-example/js\\model\\response.js","webpack-src:///projection-grid-example/js\\projection\\column-i18n.js","webpack-src:///projection-grid-example/js\\schema\\properties.js","webpack-src:///projection-grid-example/js\\projection\\column-queryable.js","webpack-src:///projection-grid-example/js\\projection\\column-shifter.js","webpack-src:///projection-grid-example/js\\projection\\column-template.js","webpack-src:///projection-grid-example/js\\projection\\editable-string.js","webpack-src:///projection-grid-example/js\\layout\\template\\row.editable.string.jade","webpack-src:///projection-grid-example/node_modules\\jade\\lib\\runtime.js","ignored D:\\Repos\\BingAds\\projection-grid\\node_modules\\jade\\lib fs","webpack-src:///projection-grid-example/js\\projection\\map.js","webpack-src:///projection-grid-example/js\\projection\\memory-queryable.js","webpack-src:///projection-grid-example/js\\projection\\memory.js","webpack-src:///projection-grid-example/js\\projection\\mock.js","webpack-src:///projection-grid-example/js\\projection\\odata.js","webpack-src:///projection-grid-example/js\\projection\\page.js","webpack-src:///projection-grid-example/js\\projection\\property-template.js","webpack-src:///projection-grid-example/js\\projection\\row-checkbox.js","webpack-src:///projection-grid-example/js\\layout\\template\\row.checked.jade","webpack-src:///projection-grid-example/js\\projection\\row-index.js","webpack-src:///projection-grid-example/js\\projection\\sink.js","webpack-src:///projection-grid-example/js\\layout\\index.js","webpack-src:///projection-grid-example/js\\layout\\table.js","webpack-src:///projection-grid-example/js\\layout\\template\\table.jade","webpack-src:///projection-grid-example/js\\layout\\renderer\\index.js","webpack-src:///projection-grid-example/js\\layout\\renderer\\fixed-header.js","webpack-src:///projection-grid-example/js\\layout\\measure.js","webpack-src:///projection-grid-example/js\\layout\\px.js","webpack-src:///projection-grid-example/js\\layout\\renderer\\virtualization.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;AACA;AACA;AACA;AACA;;;;;;;iECJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,QAAO;;AAEP;;AAEA;AACA;AACA,QAAO;;AAEP;AACA;AACA,QAAO;;AAEP;AACA;AACA,QAAO;;AAEP;AACA;AACA;;AAEA;AACA;AACA,QAAO;;AAEP,sEAAqE;AACrE;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA,gCAA+B,yCAAyC;AACxE;AACA,QAAO;;AAEP;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA,MAAK;;AAEL;AACA;;AAEA;;AAEA;AACA,iCAAgC,aAAa;AAC7C;;AAEA;AACA,MAAK;;AAEL,IAAG;;AAEH;AACA;AACA,oCAAmC,oBAAoB;AACvD;;AAEA;AACA;;AAEA;AACA,EAAC;;;;;;;AChGD,gD;;;;;;ACAA,gD;;;;;;iECAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH,EAAC;;;;;;;iECVD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA2B,YAAY,aAAa;AACpD;AACA,MAAK;;AAEL;AACA;AACA,MAAK;AACL,IAAG;;AAEH;AACA,EAAC;;;;;;;ACjBD,gD;;;;;;iECAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA,MAAK;;AAEL;AACA;AACA,MAAK;;AAEL;AACA;AACA,MAAK;AACL,IAAG;;AAEH;AACA,EAAC;;;;;;;iECzBD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;;AAEH;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;ACrBD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;iEClBA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,gDAA+C,oBAAoB;AACnE,MAAK;;AAEL;AACA;;AAEA;;AAEA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,YAAW;AACX;AACA;AACA,MAAK;;AAEL,IAAG;;AAEH;AACA,EAAC;;;;;;;iECtDD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB,eAAe;AACpC,QAAO;AACP,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,MAAK;;AAEL;AACA;AACA;;AAEA;AACA,MAAK;;AAEL,gDAA+C;AAC/C,6BAA4B;;AAE5B;AACA,uBAAsB,gBAAgB;AACtC,MAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,MAAK;AACL,IAAG;;AAEH;AACA;;AAEA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;iEC9JD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH,EAAC;;;;;;;iECZD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,QAAO;AACP,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,mDAAkD;AAClD;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;;AAEA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAW;AACX,UAAS;;AAET;AACA;AACA,UAAS;AACT,QAAO;AACP;AACA;AACA;AACA,MAAK;AACL,IAAG;;AAEH;AACA,EAAC;;;;;;;iEChED;AACA;AACA;AACA;AACA;;AAEA,4BAA2B;AAC3B;;AAEA,WAAU;AACV,EAAC;;;;;;;iECVD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;;AAEA;AACA;AACA;AACA,wBAAuB,qBAAqB,GAAG,gBAAgB;AAC/D;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,QAAO;AACP;AACA;AACA;AACA,MAAK;AACL,IAAG;;AAEH;AACA,EAAC;;;;;;;iECxFD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,MAAK;AACL;AACA,mDAAkD;AAClD;AACA;AACA;AACA;AACA,mBAAkB;AAClB,UAAS;AACT;AACA;;AAEA;AACA;AACA,UAAS;;AAET;AACA;;AAEA;AACA;AACA;AACA,2BAA0B,uBAAuB;AACjD;AACA,YAAW;AACX;AACA;AACA;AACA;AACA;AACA,2BAA0B,uBAAuB;AACjD;AACA,YAAW;AACX;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,qBAAoB,mBAAmB;AACvC,QAAO;AACP;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,mBAAkB,qBAAqB;AACvC;AACA,MAAK;AACL,IAAG;;AAEH;AACA,EAAC;;;;;;;iEC1FD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,4BAA2B;AAC3B,MAAK;AACL;AACA;AACA,mDAAkD;AAClD;;AAEA;AACA;AACA;AACA;AACA;AACA,mBAAkB;AAClB,UAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,UAAS;;AAET,qBAAoB,mBAAmB;AACvC,QAAO;AACP;AACA;AACA;AACA,MAAK;AACL,IAAG;;AAEH;AACA,EAAC;;;;;;;AC1CD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,mCAAkC;AAClC,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gDAA+C;;AAE/C;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA,kDAAiD,6BAA6B;AAC9E;AACA,YAAW;;AAEX;AACA,UAAS;;AAET,qBAAoB,eAAe;AACnC;AACA,MAAK;AACL,IAAG;;AAEH;AACA,EAAC;;;;;;;AC/DD;;AAEA;AACA;AACA;AACA;AACA,EAAC,mCAAmC,EAAE;AACtC,yIAAwI,sIAAsI;AAC9Q,E;;;;;;ACRA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,aAAY,OAAO;AACnB;AACA;;AAEA;AACA;AACA;AACA,oBAAmB,cAAc;AACjC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,YAAW,EAAE;AACb,aAAY;AACZ;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAW,EAAE;AACb,aAAY;AACZ;AACA;AACA;AACA;AACA,gFAA+E,iBAAiB,EAAE;AAClG;AACA;;AAEA;AACA;AACA;AACA,YAAW,MAAM;AACjB,YAAW,gBAAgB;AAC3B,aAAY;AACZ;AACA;AACA;AACA,kBAAiB,oBAAoB;AACrC;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,MAAK,SAAS;AACd,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,YAAW,QAAQ;AACnB,YAAW,QAAQ;AACnB,aAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,IAAG;AACH;AACA;AACA,8CAA6C;AAC7C;AACA;AACA;AACA;AACA;AACA,wEAAuE;AACvE,IAAG;AACH;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,aAAY;AACZ;AACA;AACA;;AAEA;;AAEA;AACA,oBAAmB,iBAAiB;AACpC;AACA;;AAEA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,YAAW,OAAO;AAClB,aAAY;AACZ;AACA;;AAEA;AACA,cAAa;AACb,aAAY;AACZ,aAAY;AACZ,eAAc;AACd;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,MAAM;AACjB,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;;;;ACrPA,gB;;;;;;iECAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,UAAS;AACT,QAAO;AACP;AACA;AACA;AACA,MAAK;AACL,IAAG;;AAEH;AACA,EAAC;;;;;;;iECnCD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA,4BAA2B;AAC3B,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAS;AACT,QAAO;AACP;AACA;AACA;AACA,MAAK;AACL,IAAG;;AAEH;AACA,EAAC;;;;;;;iECxED;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;;AAEA;AACA;AACA;AACA,QAAO;;AAEP;AACA,MAAK;AACL,IAAG;;AAEH;AACA,EAAC;;;;;;;iECpBD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA,QAAO;;AAEP;AACA;AACA;AACA,QAAO;AACP;AACA,MAAK;AACL,IAAG;;AAEH;AACA,EAAC;;;;;;;iECzCD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,UAAS;AACT;AACA,wBAAuB;;AAEvB;AACA,UAAS;AACT;AACA;AACA,UAAS;AACT,MAAK;AACL,IAAG;;AAEH;AACA,EAAC;;;;;;;iEC1ED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAO;AACP,MAAK;AACL;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAW,GAAG,eAAe;AAC7B;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA,qBAAoB,0BAA0B;AAC9C,QAAO;AACP;AACA;AACA;AACA,MAAK;AACL,IAAG;;AAEH;AACA,EAAC;;;;;;;iEC5DD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA6B;AAC7B,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe;;AAEf;AACA,gDAA+C;;AAE/C;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,YAAW;;AAEX;AACA,UAAS;;AAET,qBAAoB,eAAe;AACnC,QAAO;AACP;AACA;AACA;AACA,MAAK;AACL,IAAG;;AAEH;AACA,EAAC;;;;;;;iEC1DD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP,MAAK;AACL;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,QAAO;AACP,MAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET,8CAA6C,eAAe;;AAE5D;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,iCAAgC;AAChC;AACA;AACA;AACA,cAAa;AACb,YAAW;;AAEX;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA,YAAW;AACX;AACA;AACA;AACA,cAAa;AACb;AACA;;AAEA;AACA;AACA;AACA,UAAS;AACT,QAAO;AACP;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,UAAS;;AAET;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA,cAAa;AACb;AACA;;AAEA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA,MAAK;AACL,IAAG;;AAEH;AACA,EAAC;;;;;;;ACjJD;;AAEA;AACA;AACA;AACA;AACA,EAAC,mCAAmC,EAAE;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE,0NAA0N;AAC5N,E;;;;;;iEC7BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET,qBAAoB,eAAe;AACnC,QAAO;AACP;AACA;AACA;AACA,MAAK;AACL,IAAG;;AAEH;AACA,EAAC;;;;;;;iEC7BD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAK;;AAEL;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA,MAAK;;AAEL,IAAG;;AAEH;AACA,EAAC;;;;;;;AC/BD;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;;;;;;;iECNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,8BAA6B,eAAe;AAC5C,QAAO;;AAEP;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA,MAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA,MAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA6C;AAC7C;AACA,kBAAiB;;AAEjB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,MAAK;;AAEL;AACA;AACA,8BAA6B,eAAe;;AAE5C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,QAAO;;AAEP;AACA,MAAK;;AAEL;AACA;AACA;AACA,QAAO;;AAEP;AACA;AACA;AACA;AACA,iBAAgB;AAChB,QAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;;AAEP;AACA;AACA,QAAO;;AAEP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,QAAO;;AAEP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;;AAEA;;AAEA,kBAAiB,qBAAqB;AACtC,MAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAS;AACT;AACA,MAAK;;AAEL;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA,QAAO;AACP,MAAK;;AAEL;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,oCAAmC,SAAS,QAAQ,EAAE;AACtD;;AAEA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA,YAAW;AACX,UAAS;AACT;AACA;AACA;;AAEA;;AAEA;AACA,mBAAkB,kDAAkD;AACpE;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAO;;AAEP;AACA,MAAK;;AAEL;AACA;;AAEA;AACA,MAAK;AACL,IAAG;;AAEH;AACA,yBAAwB,mBAAmB;AAC3C;;AAEA;AACA,EAAC;;;;;;;ACvQD;;AAEA;AACA;AACA;AACA;AACA,EAAC,mCAAmC,EAAE;AACtC;AACA;AACA,mCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA0C,oGAAoG,mDAAmD,IAAI;AACrM;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA6C,kCAAkC,gBAAgB;AAC/F;AACA,EAAC;AACD;AACA;;AAEA,4CAA2C,aAAa;AACxD;;AAEA;AACA;;AAEA,IAAG;AACH;AACA;AACA,aAAY;;AAEZ;AACA;;AAEA;AACA,EAAC;;AAED;AACA;AACA,EAAC;AACD;AACA;;AAEA,wCAAuC,SAAS;AAChD;;AAEA,gCAA+B;AAC/B,2CAA0C,4BAA4B;AACtE;AACA,EAAC;AACD;AACA;;AAEA,wCAAuC,SAAS;AAChD;;AAEA;AACA;;AAEA,IAAG;AACH;AACA;AACA,aAAY;;AAEZ;AACA;;AAEA;AACA,EAAC;;AAED;AACA;;AAEA,IAAG;AACH;AACA;AACA,aAAY;;AAEZ,gCAA+B;AAC/B,2CAA0C,4BAA4B;AACtE;AACA,EAAC;AACD;AACA;;AAEA,wCAAuC,SAAS;AAChD;;AAEA;AACA;;AAEA,IAAG;AACH;AACA;AACA,aAAY;;AAEZ;AACA;;AAEA;AACA,EAAC;;AAED;AACA;;AAEA;AACA,EAAC;;AAED,+BAA8B,0SAAkU;AAChW,E;;;;;;ACxJA;AACA;AACA;AACA;;;;;;;iECHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,uDAAsD;;AAEtD;AACA;AACA;AACA;AACA;AACA,QAAO;;AAEP;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,QAAO;;AAEP;AACA;AACA;AACA;AACA;AACA,QAAO;;AAEP;AACA;AACA,QAAO;;AAEP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP,MAAK;AACL;AACA;AACA,QAAO;;AAEP;AACA;AACA;;AAEA;AACA;AACA,wCAAuC;AACvC;AACA;;AAEA;AACA,EAAC;;;;;;;iECjFD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA,MAAK;;AAEL;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,EAAC;;;;;;;AC9ED;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAC;;;;;;;AClBD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,wBAAuB,WAAW;AAClC;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAO;AACP;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA,QAAO;;AAEP;AACA;AACA;AACA,QAAO;AACP;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,wCAAuC;AACvC;AACA;;AAEA;AACA,EAAC","file":"projection-grid.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"underscore\"), require(\"backbone\"), require(\"jquery\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"underscore\", \"backbone\", \"jquery\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"projection-grid\"] = factory(require(\"underscore\"), require(\"backbone\"), require(\"jquery\"));\n\telse\n\t\troot[\"projection-grid\"] = factory(root[\"underscore\"], root[\"backbone\"], root[\"jquery\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_2__, __WEBPACK_EXTERNAL_MODULE_3__, __WEBPACK_EXTERNAL_MODULE_6__) {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 393d4c26125ea5402f82\n **/","module.exports = {\r\n  GridView: require('./grid-view'),\r\n  projections: require('./projection/index'),\r\n  layout: require('./layout/index'),\r\n};\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/index.js\n ** module id = 0\n ** module chunks = 0\n **/","define([\r\n  'lib/underscore',\r\n  'lib/backbone',\r\n  'component/grid/model/index',\r\n  'component/grid/windowContainer',\r\n  'component/grid/elementContainer',\r\n], function (_, Backbone, Options, WindowContainer, ElementContainer) {\r\n  var GridView = Backbone.View.extend({\r\n    // todo [akamel] document available options\r\n    initialize: function (options) {\r\n      options = options || {};\r\n\r\n      this.options = new Options(options);\r\n\r\n      var container = selectContainer(options.container);\r\n\r\n      // todo [akamel] assert that layout is a ctor\r\n      this.layout = new options.Layout({\r\n        el: this.el,\r\n        grid: this,\r\n        container: container,\r\n      });\r\n\r\n      this.projection = options.projection;\r\n\r\n      this.projection.data.on('change', function () {\r\n        this.trigger.apply(this, ['change:data'].concat(_.toArray(arguments)));\r\n      }.bind(this));\r\n\r\n      this.options.on('change', function () {\r\n        this.trigger.apply(this, ['change:options'].concat(_.toArray(arguments)));\r\n      }.bind(this));\r\n\r\n      this.projection.on('all', function () {\r\n        this.trigger.apply(this, ['data:' + _.first(arguments)].concat(_.rest(arguments)));\r\n      }.bind(this));\r\n\r\n      this.layout.on('all', function () {\r\n        var key = 'layout:' + _.first(arguments);\r\n        var arg = [key].concat(_.rest(arguments));\r\n\r\n        this.projection.bubble.apply(this.projection, arg);\r\n        this.trigger.apply(this, arg);\r\n      }.bind(this));\r\n\r\n      // todo [akamel] this is a temporary implementation of orderby; should be in layout not in grid\r\n      this.on('layout:click:header', function (e, arg) {\r\n        var column = arg.column;\r\n\r\n        if (column.sortable) {\r\n          var orderby = {};\r\n\r\n          var key = _.isString(column.sortable) ? column.sortable : column.property;\r\n\r\n          orderby[key] = column.$orderby ? column.$orderby.dir * -1 : 1;\r\n\r\n          this.projection.set({ 'orderby': [orderby], 'page.number': 0 });\r\n        }\r\n      }.bind(this));\r\n\r\n      var local = _.omit(options, 'projection', 'layout');\r\n      this.options.set(local);\r\n    },\r\n\r\n    remove: function () {\r\n      this.layout.remove();\r\n      Backbone.View.prototype.remove.apply(this, arguments);\r\n    },\r\n\r\n    set: function () {\r\n      this.options.set.apply(this.options, _.toArray(arguments));\r\n    },\r\n\r\n    render: function (options) {\r\n      options = options || {};\r\n\r\n      this.layout.render();\r\n\r\n      if (options.fetch) {\r\n        this.projection.update({ deep: true });\r\n      }\r\n\r\n      return this;\r\n    },\r\n\r\n  });\r\n\r\n  function selectContainer(userContainer) {\r\n    if (userContainer && window !== userContainer && ElementContainer.isValidContainer(userContainer)) {\r\n      return new ElementContainer({ el: userContainer });\r\n    }\r\n\r\n    return new WindowContainer();\r\n  }\r\n\r\n  return GridView;\r\n});\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/grid-view.js\n ** module id = 1\n ** module chunks = 0\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"underscore\"\n ** module id = 2\n ** module chunks = 0\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_3__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"backbone\"\n ** module id = 3\n ** module chunks = 0\n **/","define([\r\n  'lib/underscore',\r\n  'lib/backbone',\r\n], function (_, Backbone) {\r\n  return Backbone.Model.extend({\r\n    defaults: {\r\n      layout: undefined,\r\n      projection: undefined,\r\n    },\r\n  });\r\n});\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/model/index.js\n ** module id = 4\n ** module chunks = 0\n **/","define([\r\n  'lib/underscore',\r\n  'lib/jquery',\r\n  'component/grid/containerBase',\r\n], function (_, $, ContainerBase) {\r\n  var WindowContainer = ContainerBase.extend({\r\n    constructor: function (options) {\r\n      options = _.extend({}, options, { el: window });\r\n      ContainerBase.prototype.constructor.apply(this, [options].concat(_.rest(arguments)));\r\n    },\r\n\r\n    offset: function (element) {\r\n      return $(element).offset();\r\n    },\r\n  });\r\n\r\n  return WindowContainer;\r\n});\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/windowContainer.js\n ** module id = 5\n ** module chunks = 0\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_6__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"jquery\"\n ** module id = 6\n ** module chunks = 0\n **/","define([\r\n  'lib/underscore',\r\n  'lib/jquery',\r\n  'lib/backbone',\r\n], function (_, $, Backbone) {\r\n  var ContainerBase = Backbone.View.extend({\r\n    events: {\r\n      scroll: 'onScroll',\r\n      resize: 'onResize',\r\n    },\r\n\r\n    onScroll: function (e) {\r\n      this.trigger('scroll:container', e);\r\n    },\r\n\r\n    onResize: function (e) {\r\n      this.trigger('resize:container', e);\r\n    },\r\n\r\n    offset: function (/* element, scrollTop, scrollLeft */) {\r\n      throw new Error(\"Offset function not implemented\");\r\n    },\r\n  });\r\n\r\n  return ContainerBase;\r\n});\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/containerBase.js\n ** module id = 7\n ** module chunks = 0\n **/","define([\r\n  'lib/underscore',\r\n  'lib/jquery',\r\n  'component/grid/containerBase',\r\n], function (_, $, ContainerBase) {\r\n  var ElementContainer = ContainerBase.extend({\r\n    offset: function (element) {\r\n      var position = $(element).position();\r\n\r\n      return {\r\n        top: position.top + this.$el.scrollTop(),\r\n        left: position.left + this.$el.scrollLeft(),\r\n      };\r\n    },\r\n  });\r\n\r\n  ElementContainer.isValidContainer = function (userContainer) {\r\n    return ['absolute', 'relative', 'fixed'].indexOf($(userContainer).css('position')) >= 0;\r\n  };\r\n\r\n  return ElementContainer;\r\n});\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/elementContainer.js\n ** module id = 8\n ** module chunks = 0\n **/","module.exports = {\r\n  AggregateRow: require('./aggregate-row'),\r\n  Base: require('./base'),\r\n  ColumnI18n: require('./column-i18n'),\r\n  ColumnQueryable: require('./column-queryable'),\r\n  ColumnShifter: require('./column-shifter'),\r\n  ColumnTemplate: require('./column-template'),\r\n  EditableString: require('./editable-string'),\r\n  Map: require('./map'),\r\n  MemoryQueryable: require('./memory-queryable'),\r\n  Memory: require('./memory'),\r\n  Mock: require('./mock'),\r\n  Odata: require('./odata'),\r\n  Page: require('./page'),\r\n  PropertyTemplate: require('./property-template'),\r\n  RowCheckbox: require('./row-checkbox'),\r\n  RowIndex: require('./row-index'),\r\n  Sink: require('./sink'),\r\n};\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/projection/index.js\n ** module id = 9\n ** module chunks = 0\n **/","define([\r\n  'lib/underscore',\r\n  'lib/backbone',\r\n  'component/grid/projection/base',\r\n], function (_, Backbone, BaseProjection) {\r\n  var createRows = function (fn, data) {\r\n    var rows = fn(data);\r\n\r\n    _.each(rows, function (row) {\r\n      row.$metadata = _.extend(row.$metadata, { type: 'aggregate' });\r\n    });\r\n\r\n    return rows;\r\n  };\r\n\r\n  var Model = BaseProjection.extend({\r\n\r\n    defaults: {\r\n      'aggregate.top': null,\r\n      'aggregate.bottom': null,\r\n    },\r\n\r\n    name: 'aggregate-row',\r\n\r\n    update: function (options) {\r\n      var value, topFn, rowTop, bottomFn, rowBottom;\r\n\r\n      if (Model.__super__.update.call(this, options)) {\r\n        value = this.src.data.get('value');\r\n\r\n        if (value) {\r\n          topFn = this.get('aggregate.top');\r\n          bottomFn = this.get('aggregate.bottom');\r\n          rowTop = _.isFunction(topFn) ? createRows(topFn, this.src.data) : null;\r\n          rowBottom = _.isFunction(bottomFn) ? createRows(bottomFn, this.src.data) : null;\r\n\r\n          if (rowTop) {\r\n            value = _.flatten(rowTop).concat(value);\r\n          }\r\n\r\n          if (rowBottom) {\r\n            value = value.concat(_.flatten(rowBottom));\r\n          }\r\n\r\n          this.patch({\r\n            value: value,\r\n          });\r\n        }\r\n      }\r\n    },\r\n\r\n  });\r\n\r\n  return Model;\r\n});\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/projection/aggregate-row.js\n ** module id = 10\n ** module chunks = 0\n **/","define([\r\n  'lib/underscore',\r\n  'lib/backbone',\r\n  'component/grid/model/response',\r\n], function (_, Backbone, Response) {\r\n  var Model = Backbone.Model.extend({\r\n    initialize: function () {\r\n      _.bindAll(this, 'onSrcUpdate', 'beforeSet', 'afterSet', 'update');\r\n      this.data = new Response();\r\n      this.src = undefined;\r\n      this.on('change', function (model) {\r\n        // todo [akamel] the model here is the settings model\r\n        this.update({ model: model });\r\n      }.bind(this));\r\n    },\r\n\r\n    constructor: function () {\r\n      // used to figure out which options to set localy and which ones to pass down the pipe\r\n      this.localKeys = _.keys(this.defaults);\r\n      // todo [akamel] this might prevent us from overriding initialize\r\n      Model.__super__.constructor.apply(this, arguments);\r\n    },\r\n\r\n    pipe: function (to) {\r\n      if (to) {\r\n        to.setSrc(this);\r\n      }\r\n\r\n      return to;\r\n    },\r\n\r\n    setSrc: function (src) {\r\n      this.src = src;\r\n      if (this.src) {\r\n        this.src.data.off('change', this.onSrcUpdate);\r\n        this.src.off('all', this.bubble);\r\n      }\r\n\r\n      if (this.src) {\r\n        this.src.data.on('change', this.onSrcUpdate);\r\n        this.src.on('all', this.bubble);\r\n      }\r\n\r\n      this.update();\r\n    },\r\n\r\n    patch: function (delta) {\r\n      var src = this.src ? this.src.data.toJSON() : {};\r\n      delta = _.isObject(delta) ? delta : {};\r\n\r\n      this.data.set(_.defaults(delta, this.attributes, src));\r\n    },\r\n\r\n    beforeSet: function (/* local, other */) {},\r\n    afterSet: function () {},\r\n\r\n    onSrcUpdate: function (/* model */) {\r\n      this.update(/* { model : model } */);\r\n    },\r\n    bubble: function () {\r\n      var key = _.first(arguments);\r\n\r\n      if (_.has(this.events, key)) {\r\n        var fct = this[this.events[key]];\r\n        if (_.isFunction(fct)) {\r\n          fct.apply(this, _.rest(arguments));\r\n        }\r\n      }\r\n\r\n      // todo [akamel] can this result in multiple redraw calls?\r\n      if (this.src) {\r\n        this.src.bubble.apply(this.src, _.toArray(arguments));\r\n      }\r\n    },\r\n\r\n    update: function (options) {\r\n      options = options || {};\r\n\r\n      if (this.src) {\r\n        if (options.deep) {\r\n          this.src.update(options);\r\n          return false;\r\n        }\r\n\r\n        return true;\r\n      }\r\n\r\n      return false;\r\n    },\r\n  });\r\n\r\n  Model.prototype.set = function (key, value, options) {\r\n    var obj = {};\r\n\r\n    if (_.isString(key)) {\r\n      obj[key] = value;\r\n    } else {\r\n      obj = key;\r\n      options = value;\r\n    }\r\n\r\n    var local = _.pick(obj, this.localKeys);\r\n    var other = _.omit(obj, this.localKeys);\r\n\r\n    this.beforeSet(local, other);\r\n\r\n    var ret = Model.__super__.set.call(this, local, options);\r\n\r\n    // todo [akamel] if we set options that span multiple data sources we will trigger change multiple times in the chain??\r\n    // pass along non-local options\r\n    if (_.size(other)) {\r\n      if (this.src) {\r\n        this.src.set(other, options);\r\n      }\r\n    }\r\n    this.afterSet();\r\n\r\n    return ret;\r\n  };\r\n\r\n  Model.keyRegex = /^([\\w_\\-$]+):(.+)$/;\r\n\r\n  Model.prototype.get = function (key) {\r\n    var match = Model.keyRegex.exec(key);\r\n\r\n    if (match) {\r\n      var type = match[1];\r\n      var name = match[2];\r\n\r\n      switch (type) {\r\n        case 'projection': {\r\n          var p = this;\r\n          do {\r\n            if (p.name === name) {\r\n              return p;\r\n            }\r\n            p = p.src;\r\n          } while (p);\r\n          break;\r\n        }\r\n        default: {\r\n          throw new Error('unknown special get key type');\r\n        }\r\n      }\r\n    } else {\r\n      var ret = Model.__super__.get.apply(this, arguments);\r\n\r\n      if (_.isUndefined(ret)) {\r\n        if (this.src) {\r\n          ret = this.src.get.apply(this.src, arguments);\r\n        }\r\n      }\r\n\r\n      return ret;\r\n    }\r\n  };\r\n\r\n  return Model;\r\n});\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/projection/base.js\n ** module id = 11\n ** module chunks = 0\n **/","define([\r\n  'lib/underscore',\r\n  'lib/backbone',\r\n], function (_, Backbone) {\r\n  return Backbone.Model.extend({\r\n    defaults: {\r\n      value: [],\r\n      select: [],\r\n      count: 0,\r\n      aggregate: [],\r\n    },\r\n  });\r\n});\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/model/response.js\n ** module id = 12\n ** module chunks = 0\n **/","define([\r\n  'lib/underscore',\r\n  'lib/backbone',\r\n  'component/grid/projection/base',\r\n  'component/grid/schema/properties',\r\n  'component/grid/model/response',\r\n], function (_, Backbone, BaseProjection /* , schemaProperties, Response */) {\r\n  var Model = BaseProjection.extend({\r\n    defaults: {\r\n      'column.i18n': {\r\n        '': function (name) {\r\n          return name;\r\n        },\r\n      },\r\n    },\r\n    name: 'column-i18n',\r\n    beforeSet: function (local) {\r\n      if (_.has(local, 'column.i18n')) {\r\n        if (!_.isObject(local['column.i18n'])) {\r\n          local['column.i18n'] = this.defaults['column.i18n'];\r\n        }\r\n      }\r\n    },\r\n    update: function (options) {\r\n      // todo [akamel] when calling a deep update; suppress onchange event based updates\r\n      // Model.__super__.update.call(this, options);\r\n\r\n      if (Model.__super__.update.call(this, options)) {\r\n        var model = this.src.data;\r\n        var colOptions = this.get('column.i18n');\r\n        var select = _.size(model.get('columns')) ? _.map(model.get('columns'), function (i) {\r\n          return i.property;\r\n        }) : model.get('select');\r\n        var lookup = {};\r\n        var $default = colOptions[''];\r\n\r\n        // todo [akamel] use indexBy from underscore 1.5.x\r\n        _.each(model.get('columns'), function (element) {\r\n          lookup[element.property] = element;\r\n        });\r\n\r\n        var i18nColumns = _.map(select, function (element) {\r\n          var opt = colOptions[element];\r\n          if (_.isUndefined(opt)) {\r\n            opt = $default;\r\n          }\r\n\r\n          return _.defaults({\r\n            $text: _.isFunction(opt) ? opt(element) : opt,\r\n            property: element,\r\n          }, lookup[element]);\r\n        });\r\n\r\n        this.patch({\r\n          columns: i18nColumns,\r\n        });\r\n      } else {\r\n        // todo [akamel] unset our properties only\r\n        // this.unset();\r\n      }\r\n    },\r\n  });\r\n\r\n  return Model;\r\n});\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/projection/column-i18n.js\n ** module id = 13\n ** module chunks = 0\n **/","define([\r\n  'lib/underscore',\r\n], function (_) {\r\n  function from(arr) {\r\n    var obj = _.first(arr);\r\n\r\n    return _.keys(obj || {});\r\n  }\r\n\r\n  return { from: from };\r\n});\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/schema/properties.js\n ** module id = 14\n ** module chunks = 0\n **/","define([\r\n  'lib/underscore',\r\n  'lib/backbone',\r\n  'component/grid/projection/base',\r\n  'component/grid/schema/properties',\r\n  'component/grid/model/response',\r\n], function (_, Backbone, BaseProjection /* , schemaProperties, Response */) {\r\n  var Model = BaseProjection.extend({\r\n    defaults: {\r\n      'column.skip': 0,\r\n      'column.take': Number.MAX_VALUE,\r\n      'column.lock': [],\r\n      'column.filter': function () {\r\n        return true;\r\n      },\r\n      'column.in': undefined,\r\n    },\r\n    name: 'column-queryable',\r\n    update: function (options) {\r\n      if (Model.__super__.update.call(this, options)) {\r\n        var model = this.src.data;\r\n        var take = this.get('column.take');\r\n        var skip = this.get('column.skip');\r\n        var lock = this.get('column.lock') || [];\r\n        var filter = this.get('column.filter');\r\n        // todo [akamel] consider renaming to column.select\r\n        var $in = this.get('column.in');\r\n        var select = _.size(model.get('columns')) ? _.map(model.get('columns'), function (i) {\r\n          return i.property;\r\n        }) : model.get('select');\r\n        var unlocked = _.isFunction(filter) ? _.filter($in || select, filter) : ($in || select);\r\n        var lookup = {};\r\n        var set = _.chain(unlocked).difference(lock).value();\r\n        var col = set;\r\n\r\n        // todo [akamel] use indexBy from underscore 1.5.x\r\n        _.each(model.get('columns'), function (element) {\r\n          lookup[element.property] = element;\r\n        });\r\n\r\n        if (!_.isNumber(take)) {\r\n          take = Number.MAX_VALUE;\r\n        }\r\n\r\n        take = Math.max(take - _.size(lock), 0);\r\n        if (_.size(set) < skip) {\r\n          skip = 0;\r\n          // this.set({ 'columns.skip' : 0 }, { silent : true });\r\n        }\r\n\r\n        // start query\r\n        var skipped = _.first(set, skip);\r\n\r\n        if (skip) {\r\n          col = _.rest(set, skip);\r\n        }\r\n\r\n        var remaining = _.rest(col, take);\r\n\r\n        col = _.union(lock, _.first(col, take));\r\n        // end query\r\n\r\n        // todo [akamel] [perf] this used a contains within a loop\r\n        var res = _.map(col, function (element) {\r\n          return _.defaults({\r\n            $lock: _.contains(lock, element),\r\n            property: element,\r\n          }, lookup[element]);\r\n        });\r\n\r\n        this.patch({\r\n          'columns': res,\r\n          // todo [akamel] rename to column.in???\r\n          // , 'columns.select'  : set\r\n          'columns.skipped': skipped,\r\n          'columns.remaining': remaining,\r\n          // , 'columns.count'   : _.size(res)\r\n          // todo [akamel] do we still need to update skip?\r\n          'column.skip': skip,\r\n        });\r\n      } else {\r\n        // todo [akamel] unset our properties only\r\n        // this.unset();\r\n      }\r\n    },\r\n  });\r\n\r\n  return Model;\r\n});\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/projection/column-queryable.js\n ** module id = 15\n ** module chunks = 0\n **/","define([\r\n  'lib/underscore',\r\n  'lib/backbone',\r\n  'component/grid/projection/base',\r\n  'component/grid/schema/properties',\r\n  'component/grid/model/response',\r\n], function (_, Backbone, BaseProjection /* , schemaProperties, Response */) {\r\n  var Model = BaseProjection.extend({\r\n    defaults: {\r\n    },\r\n    name: 'column-shifter',\r\n    events: {\r\n      'layout:click:header': 'thClick',\r\n    },\r\n    update: function (options) {\r\n      // todo [akamel] when calling a deep update; suppress onchange event based updates\r\n      if (Model.__super__.update.call(this, options)) {\r\n        var model = this.src.data;\r\n        // todo [akamel] have 'columns' crated at the source so we don't have to put this all over the place\r\n        var columns = model.get('columns') || _.map(model.get('select'), function (i) {\r\n          return { property: i };\r\n        });\r\n        var colSkipped = model.get('columns.skipped');\r\n        var colRemaining = model.get('columns.remaining');\r\n\r\n        var unlockedAt = Math.max(_.findIndex(columns, function (col) {\r\n          return !col.$lock;\r\n        }), 0);\r\n\r\n        var hasLess = _.size(colSkipped);\r\n        var hasMore = _.size(colRemaining);\r\n\r\n        var colLess = {\r\n          property: 'column.skip.less',\r\n          $metadata: {\r\n            'attr.head': { class: ['skip-less'] },\r\n            'enabled': hasLess,\r\n          },\r\n          $html: '<span class=\"glyphicon glyphicon-triangle-left\" />',\r\n        };\r\n        var colMore = {\r\n          property: 'column.skip.more',\r\n          $metadata: {\r\n            'attr.head': { class: ['skip-more'] },\r\n            'enabled': hasMore,\r\n          },\r\n          $html: '<span class=\"glyphicon glyphicon-triangle-right\" />',\r\n        };\r\n\r\n        if (!hasLess) {\r\n          colLess.$metadata['attr.head'].class.push('disabled');\r\n        }\r\n\r\n        if (!hasMore) {\r\n          colMore.$metadata['attr.head'].class.push('disabled');\r\n        }\r\n\r\n        columns.splice(unlockedAt, 0, colLess);\r\n        columns.push(colMore);\r\n\r\n        this.patch({ columns: columns });\r\n      } else {\r\n        // todo [akamel] unset our properties only\r\n        // this.unset();\r\n      }\r\n    },\r\n    thClick: function (e, arg) {\r\n      if (_.has(arg.column, '$metadata') && arg.column.$metadata.enabled) {\r\n        var ret = 0;\r\n        var skip = this.get('column.skip');\r\n\r\n        // todo [akamel] is this logic solid?\r\n        switch (arg.property) {\r\n          case 'column.skip.less': {\r\n            ret = _.isNumber(skip) ? Math.max(skip - 1, 0) : 0;\r\n            break;\r\n          }\r\n          case 'column.skip.more': {\r\n            ret = _.isNumber(skip) ? skip + 1 : 0;\r\n            break;\r\n          }\r\n          default:\r\n        }\r\n\r\n        this.set({ 'column.skip': ret });\r\n      }\r\n    },\r\n  });\r\n\r\n  return Model;\r\n});\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/projection/column-shifter.js\n ** module id = 16\n ** module chunks = 0\n **/","define([\r\n  'lib/underscore',\r\n  'component/grid/projection/base',\r\n], function (_, BaseProjection) {\r\n  'use strict';\r\n\r\n  var Model = BaseProjection.extend({\r\n    defaults: {\r\n      'column.template': {},\r\n    },\r\n    name: 'column-template',\r\n    update: function (options) {\r\n      // todo [akamel] when calling a deep update; suppress onchange event based updates\r\n      // Model.__super__.update.call(this, options);\r\n\r\n      // TODO [imang]: columns: ideally we should not need to read from select.\r\n      if (Model.__super__.update.call(this, options)) {\r\n        var model = this.src.data;\r\n        var colTemplate = this.get('column.template');\r\n        var columns = _.map(model.get('columns') || _.map(model.get('select'), function (i) {\r\n          return { property: i };\r\n        }), function (item) {\r\n          var ret = _.clone(item);\r\n          var property = ret.property;\r\n\r\n          if (_.has(colTemplate, property)) {\r\n            colTemplate = colTemplate[property];\r\n            ret.$html = _.isFunction(colTemplate) ? colTemplate(ret) : colTemplate;\r\n          }\r\n\r\n          return ret;\r\n        });\r\n\r\n        this.patch({ columns: columns });\r\n      } else {\r\n        // todo [akamel] unset our properties only\r\n        // this.unset();\r\n      }\r\n    },\r\n  });\r\n\r\n  return Model;\r\n});\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/projection/column-template.js\n ** module id = 17\n ** module chunks = 0\n **/","/**\r\n *\r\n * Important!!!\r\n *\r\n * The initial check-in is for unblock the simple grid in advanced campaign creation and\r\n * may cause bugs if you try to use it with some more complex grid. Please DO NOT use this\r\n * projection until we update this and remove the comments here.\r\n *\r\n * todo [yucongj, wewei] add the model to maintail the input data.\r\n *\r\n */\r\n\r\ndefine([\r\n  'lib/underscore',\r\n  'lib/jquery',\r\n  'component/grid/projection/base',\r\n  'component/grid/layout/template/row.editable.string.jade',\r\n], function (_, jquery, BaseProjection, editableTemplate) {\r\n  'use strict';\r\n\r\n  var Model = BaseProjection.extend({\r\n    defaults: {\r\n      'column.editable.string': {},\r\n    },\r\n    name: 'column-editable-string',\r\n    update: function (options) {\r\n      if (Model.__super__.update.call(this, options)) {\r\n        var model = this.src.data;\r\n        var columnEditable = this.get('column.editable.string');\r\n        var value = _.map(model.get('value'), function (item) {\r\n          var ret = _.clone(item);\r\n\r\n          _.each(columnEditable, function (value, key) {\r\n            if (_.has(ret, key)) {\r\n              if (!_.isObject(ret[key])) {\r\n                var obj = new Object(ret[key]); //eslint-disable-line\r\n\r\n                if (_.isUndefined(ret[key])) {\r\n                  obj.$undefined = true;\r\n                }\r\n\r\n                if (_.isNull(ret[key])) {\r\n                  obj.$null = true;\r\n                }\r\n\r\n                ret[key] = obj;\r\n              }\r\n\r\n              var defaultValue = (ret[key].$undefined || ret[key].$null) ? value.defaultValue : ret[key];\r\n\r\n              ret[key].$html = editableTemplate({ defaultValue: defaultValue });\r\n            }\r\n          });\r\n\r\n          return ret;\r\n        });\r\n\r\n        this.patch({ value: value });\r\n      }\r\n    },\r\n  });\r\n\r\n  return Model;\r\n});\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/projection/editable-string.js\n ** module id = 18\n ** module chunks = 0\n **/","var jade = require(\"D:\\\\Repos\\\\BingAds\\\\projection-grid\\\\node_modules\\\\jade\\\\lib\\\\runtime.js\");\n\nmodule.exports = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\n;var locals_for_with = (locals || {});(function (defaultValue) {\nbuf.push(\"<input type=\\\"text\\\"\" + (jade.attr(\"value\", defaultValue, true, true)) + \" style=\\\"width:100%\\\" class=\\\"grid-text-input\\\">\");}.call(this,\"defaultValue\" in locals_for_with?locals_for_with.defaultValue:typeof defaultValue!==\"undefined\"?defaultValue:undefined));;return buf.join(\"\");\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/layout/template/row.editable.string.jade\n ** module id = 19\n ** module chunks = 0\n **/","'use strict';\n\n/**\n * Merge two attribute objects giving precedence\n * to values in object `b`. Classes are special-cased\n * allowing for arrays and merging/joining appropriately\n * resulting in a string.\n *\n * @param {Object} a\n * @param {Object} b\n * @return {Object} a\n * @api private\n */\n\nexports.merge = function merge(a, b) {\n  if (arguments.length === 1) {\n    var attrs = a[0];\n    for (var i = 1; i < a.length; i++) {\n      attrs = merge(attrs, a[i]);\n    }\n    return attrs;\n  }\n  var ac = a['class'];\n  var bc = b['class'];\n\n  if (ac || bc) {\n    ac = ac || [];\n    bc = bc || [];\n    if (!Array.isArray(ac)) ac = [ac];\n    if (!Array.isArray(bc)) bc = [bc];\n    a['class'] = ac.concat(bc).filter(nulls);\n  }\n\n  for (var key in b) {\n    if (key != 'class') {\n      a[key] = b[key];\n    }\n  }\n\n  return a;\n};\n\n/**\n * Filter null `val`s.\n *\n * @param {*} val\n * @return {Boolean}\n * @api private\n */\n\nfunction nulls(val) {\n  return val != null && val !== '';\n}\n\n/**\n * join array as classes.\n *\n * @param {*} val\n * @return {String}\n */\nexports.joinClasses = joinClasses;\nfunction joinClasses(val) {\n  return (Array.isArray(val) ? val.map(joinClasses) :\n    (val && typeof val === 'object') ? Object.keys(val).filter(function (key) { return val[key]; }) :\n    [val]).filter(nulls).join(' ');\n}\n\n/**\n * Render the given classes.\n *\n * @param {Array} classes\n * @param {Array.<Boolean>} escaped\n * @return {String}\n */\nexports.cls = function cls(classes, escaped) {\n  var buf = [];\n  for (var i = 0; i < classes.length; i++) {\n    if (escaped && escaped[i]) {\n      buf.push(exports.escape(joinClasses([classes[i]])));\n    } else {\n      buf.push(joinClasses(classes[i]));\n    }\n  }\n  var text = joinClasses(buf);\n  if (text.length) {\n    return ' class=\"' + text + '\"';\n  } else {\n    return '';\n  }\n};\n\n\nexports.style = function (val) {\n  if (val && typeof val === 'object') {\n    return Object.keys(val).map(function (style) {\n      return style + ':' + val[style];\n    }).join(';');\n  } else {\n    return val;\n  }\n};\n/**\n * Render the given attribute.\n *\n * @param {String} key\n * @param {String} val\n * @param {Boolean} escaped\n * @param {Boolean} terse\n * @return {String}\n */\nexports.attr = function attr(key, val, escaped, terse) {\n  if (key === 'style') {\n    val = exports.style(val);\n  }\n  if ('boolean' == typeof val || null == val) {\n    if (val) {\n      return ' ' + (terse ? key : key + '=\"' + key + '\"');\n    } else {\n      return '';\n    }\n  } else if (0 == key.indexOf('data') && 'string' != typeof val) {\n    if (JSON.stringify(val).indexOf('&') !== -1) {\n      console.warn('Since Jade 2.0.0, ampersands (`&`) in data attributes ' +\n                   'will be escaped to `&amp;`');\n    };\n    if (val && typeof val.toISOString === 'function') {\n      console.warn('Jade will eliminate the double quotes around dates in ' +\n                   'ISO form after 2.0.0');\n    }\n    return ' ' + key + \"='\" + JSON.stringify(val).replace(/'/g, '&apos;') + \"'\";\n  } else if (escaped) {\n    if (val && typeof val.toISOString === 'function') {\n      console.warn('Jade will stringify dates in ISO form after 2.0.0');\n    }\n    return ' ' + key + '=\"' + exports.escape(val) + '\"';\n  } else {\n    if (val && typeof val.toISOString === 'function') {\n      console.warn('Jade will stringify dates in ISO form after 2.0.0');\n    }\n    return ' ' + key + '=\"' + val + '\"';\n  }\n};\n\n/**\n * Render the given attributes object.\n *\n * @param {Object} obj\n * @param {Object} escaped\n * @return {String}\n */\nexports.attrs = function attrs(obj, terse){\n  var buf = [];\n\n  var keys = Object.keys(obj);\n\n  if (keys.length) {\n    for (var i = 0; i < keys.length; ++i) {\n      var key = keys[i]\n        , val = obj[key];\n\n      if ('class' == key) {\n        if (val = joinClasses(val)) {\n          buf.push(' ' + key + '=\"' + val + '\"');\n        }\n      } else {\n        buf.push(exports.attr(key, val, false, terse));\n      }\n    }\n  }\n\n  return buf.join('');\n};\n\n/**\n * Escape the given string of `html`.\n *\n * @param {String} html\n * @return {String}\n * @api private\n */\n\nvar jade_encode_html_rules = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;'\n};\nvar jade_match_html = /[&<>\"]/g;\n\nfunction jade_encode_char(c) {\n  return jade_encode_html_rules[c] || c;\n}\n\nexports.escape = jade_escape;\nfunction jade_escape(html){\n  var result = String(html).replace(jade_match_html, jade_encode_char);\n  if (result === '' + html) return html;\n  else return result;\n};\n\n/**\n * Re-throw the given `err` in context to the\n * the jade in `filename` at the given `lineno`.\n *\n * @param {Error} err\n * @param {String} filename\n * @param {String} lineno\n * @api private\n */\n\nexports.rethrow = function rethrow(err, filename, lineno, str){\n  if (!(err instanceof Error)) throw err;\n  if ((typeof window != 'undefined' || !filename) && !str) {\n    err.message += ' on line ' + lineno;\n    throw err;\n  }\n  try {\n    str = str || require('fs').readFileSync(filename, 'utf8')\n  } catch (ex) {\n    rethrow(err, null, lineno)\n  }\n  var context = 3\n    , lines = str.split('\\n')\n    , start = Math.max(lineno - context, 0)\n    , end = Math.min(lines.length, lineno + context);\n\n  // Error context\n  var context = lines.slice(start, end).map(function(line, i){\n    var curr = i + start + 1;\n    return (curr == lineno ? '  > ' : '    ')\n      + curr\n      + '| '\n      + line;\n  }).join('\\n');\n\n  // Alter exception message\n  err.path = filename;\n  err.message = (filename || 'Jade') + ':' + lineno\n    + '\\n' + context + '\\n\\n' + err.message;\n  throw err;\n};\n\nexports.DebugItem = function DebugItem(lineno, filename) {\n  this.lineno = lineno;\n  this.filename = filename;\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/jade/lib/runtime.js\n ** module id = 20\n ** module chunks = 0\n **/","/* (ignored) */\n\n\n/*****************\n ** WEBPACK FOOTER\n ** fs (ignored)\n ** module id = 21\n ** module chunks = 0\n **/","define([\r\n  'lib/underscore',\r\n  'lib/backbone',\r\n  'component/grid/projection/base',\r\n  'component/grid/schema/properties',\r\n  'component/grid/model/response',\r\n], function (_, Backbone, BaseProjection, schemaProperties /* , Response */) {\r\n  var Model = BaseProjection.extend({\r\n    defaults: {\r\n      // todo [akamel] consider supporting a select on this level?\r\n      map: _.identity,\r\n    },\r\n    name: 'map',\r\n    update: function (options) {\r\n      // Model.__super__.update.call(this, options);\r\n\r\n      if (Model.__super__.update.call(this, options)) {\r\n        var model = this.src.data;\r\n        var map = this.get('map');\r\n        var value = _.isFunction(map) ? _.map(model.get('value'), map) : model.get('value');\r\n\r\n        value = _.flatten(value);\r\n\r\n        this.patch({\r\n          value: value,\r\n          select: schemaProperties.from(value),\r\n        });\r\n      } else {\r\n        // todo [akamel] unset our properties only\r\n        // this.unset();\r\n      }\r\n    },\r\n  });\r\n\r\n  return Model;\r\n});\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/projection/map.js\n ** module id = 22\n ** module chunks = 0\n **/","define([\r\n  'lib/underscore',\r\n  'lib/backbone',\r\n  'component/grid/projection/base',\r\n  'component/grid/schema/properties',\r\n  'component/grid/model/response',\r\n], function (_, Backbone, BaseProjection, schemaProperties /* , Response */) {\r\n  var Model = BaseProjection.extend({\r\n    defaults: {\r\n      'skip': 0,\r\n      'take': Number.MAX_VALUE,\r\n      'filter': function () {\r\n        return true;\r\n      },\r\n      'orderby': [],\r\n      'select': [],\r\n      'column.sortable': {},\r\n    },\r\n    name: 'map-queryable',\r\n    beforeSet: function (local) {\r\n      if (_.has(local, 'filter')) {\r\n        if (!_.isFunction(local.filter)) {\r\n          local.filter = this.defaults.filter;\r\n        }\r\n      }\r\n    },\r\n    update: function (options) {\r\n      // Model.__super__.update.call(this, options);\r\n\r\n      if (Model.__super__.update.call(this, options)) {\r\n        var model = this.src.data;\r\n        var order = _.chain(this.get('orderby')).first().pairs().first().value();\r\n\r\n        var orderKey = _.first(order);\r\n        var orderDir = _.last(order);\r\n\r\n        var value = _.chain(model.get('value')).filter(this.get('filter'));\r\n        var sortFunc = this.get('column.sortable')[orderKey];\r\n\r\n        if (orderKey) {\r\n          if (_.isFunction(sortFunc)) {\r\n            value = _.chain(sortFunc(value.value(), orderDir));\r\n          } else {\r\n            value = value.sortBy(orderKey);\r\n            if (orderDir === -1) {\r\n              value = value.reverse();\r\n            }\r\n          }\r\n        }\r\n\r\n        value = value\r\n          .rest(this.get('skip'))\r\n          .first(this.get('take'))\r\n          .value();\r\n\r\n        var select = this.get('select');\r\n        if (!_.size(select)) {\r\n          select = schemaProperties.from(value);\r\n        }\r\n\r\n        this.patch({\r\n          value: value,\r\n          select: select,\r\n        });\r\n      } else {\r\n        // todo [akamel] unset our properties only\r\n        // this.unset();\r\n      }\r\n    },\r\n  });\r\n\r\n  return Model;\r\n});\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/projection/memory-queryable.js\n ** module id = 23\n ** module chunks = 0\n **/","define(['component/grid/projection/base'], function (BaseProjection) {\r\n  var Model = BaseProjection.extend({\r\n    defaults: {\r\n      seed: [],\r\n    },\r\n    update: function () {\r\n      this.trigger('update:beginning');\r\n\r\n      var value = this.get('seed');\r\n\r\n      this.data.set({\r\n        value: value,\r\n        count: value.length,\r\n      });\r\n\r\n      this.trigger('update:finished');\r\n    },\r\n  });\r\n\r\n  return Model;\r\n});\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/projection/memory.js\n ** module id = 24\n ** module chunks = 0\n **/","define([\r\n  'lib/underscore',\r\n  'lib/backbone',\r\n  'component/grid/projection/base',\r\n], function (_, Backbone, BaseProjection) {\r\n  var wrds = ['troubles', 'kahlua', 'poncho', 'suzie', 'baheyya'];\r\n  var idx = 0;\r\n\r\n  function randomRow() {\r\n    var wrd1 = wrds[_.random(0, wrds.length - 1)];\r\n    var wrd2 = wrds[_.random(0, wrds.length - 1)];\r\n\r\n    return {\r\n      index: idx++,\r\n      name: wrd1 + ' ' + wrd2,\r\n      age: _.random(0, 22),\r\n    };\r\n  }\r\n\r\n  var Model = BaseProjection.extend({\r\n    defaults: {\r\n      n: 5000,\r\n    },\r\n    name: 'mock',\r\n    update: function () {\r\n      this.trigger('update:beginning');\r\n      var value = [];\r\n\r\n      _(this.get('n')).times(function () {\r\n        value.push(randomRow());\r\n      });\r\n\r\n      this.data.set({\r\n        value: value,\r\n        count: value.length,\r\n      });\r\n      this.trigger('update:finished');\r\n    },\r\n  });\r\n\r\n  return Model;\r\n});\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/projection/mock.js\n ** module id = 25\n ** module chunks = 0\n **/","define([\r\n  'lib/underscore',\r\n  'lib/backbone',\r\n  'lib/jquery',\r\n  'component/grid/projection/base',\r\n  'component/grid/projection/mock',\r\n  'component/grid/schema/properties',\r\n], function (_, Backbone, $, BaseProjection, MemoryMock, schemaProperties) {\r\n  var Model = BaseProjection.extend({\r\n    defaults: {\r\n      verb: 'get',\r\n      url: undefined,\r\n      skip: undefined,\r\n      take: undefined,\r\n      filter: undefined,\r\n      orderby: [],\r\n      select: [],\r\n    },\r\n    name: 'odata',\r\n    update: function () {\r\n      this.trigger('update:beginning');\r\n      var url = this.get('url');\r\n\r\n      url = _.isFunction(url) ? url() : url;\r\n      var op = {\r\n        url: url,\r\n        $format: 'json',\r\n      // todo [akamel] this is odata v3 specific\r\n        $count: true,\r\n      };\r\n\r\n      var take = this.get('take');\r\n      if (take) {\r\n        op.$top = take;\r\n      }\r\n\r\n      var skip = this.get('skip');\r\n      if (skip) {\r\n        op.$skip = skip;\r\n      }\r\n\r\n      // todo [akamel] only supports one order column\r\n      var orderby = this.get('orderby');\r\n      if (_.size(orderby)) {\r\n        var col = _.first(orderby);\r\n        var key = _.keys(col)[0];\r\n        var dir = col[key];\r\n\r\n        op.$orderby = key + ' ' + (dir > 0 ? 'asc' : 'desc');\r\n      }\r\n\r\n      $.getJSON(op.url, _.omit(op, 'url'))\r\n        .success(function (data) {\r\n          var delta = {\r\n            value: data.value,\r\n            select: schemaProperties.from(data.value),\r\n            count: data['@odata.count'],\r\n            error: undefined,\r\n          };\r\n\r\n          this.patch(delta);\r\n        }.bind(this))\r\n        .error(function (jqXHR, textStatus, errorThrown) {\r\n          var delta = { error: errorThrown };\r\n\r\n          this.patch(delta);\r\n        }.bind(this))\r\n        .complete(function () {\r\n          this.trigger('update:finished');\r\n        }.bind(this));\r\n    },\r\n  });\r\n\r\n  return Model;\r\n});\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/projection/odata.js\n ** module id = 26\n ** module chunks = 0\n **/","define([\r\n  'lib/underscore',\r\n  'lib/backbone',\r\n  'component/grid/projection/base',\r\n  'component/grid/schema/properties',\r\n  'component/grid/model/response',\r\n], function (_, Backbone, BaseProjection /* , schemaProperties, Response */) {\r\n  var Model = BaseProjection.extend({\r\n    defaults: {\r\n      'page.size': 20,\r\n      'page.number': 0, // zero based\r\n    },\r\n    name: 'page',\r\n    // todo [akamel] what if we piped after the data was set?\r\n    beforeSet: function (local, other) {\r\n      var size = _.has(local, 'page.size') ? local['page.size'] : this.get('page.size');\r\n      var number = _.has(local, 'page.number') ? local['page.number'] : this.get('page.number');\r\n\r\n      // todo [akamel] sanetize size and number here\r\n      size = Math.max(size, 0);\r\n      number = Math.max(number, 0);\r\n\r\n      _.extend(other, {\r\n        take: size,\r\n        skip: size * number,\r\n      });\r\n    },\r\n    update: function (options) {\r\n      var model = this.src.data;\r\n      var size = Math.max(this.get('page.size'), 0);\r\n      var count = Math.max(0, model.get('count'));\r\n\r\n      options = options || {};\r\n\r\n      if (options.deep) {\r\n        if (this.src) {\r\n          var number = Math.max(this.get('page.number'), 0);\r\n\r\n          this.src.set({\r\n            take: size,\r\n            skip: size * number,\r\n          }, { silent: true });\r\n        }\r\n      }\r\n\r\n      // Model.__super__.update.call(this, options);\r\n\r\n      // if we came in with an update:deep\r\n      if (Model.__super__.update.call(this, options)) {\r\n        var pageCount = Math.ceil(count / size);\r\n\r\n        this.patch({ 'page.count': pageCount });\r\n      } else {\r\n        // todo [akamel] unset our properties only\r\n        // this.unset();\r\n      }\r\n    },\r\n  });\r\n\r\n  return Model;\r\n});\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/projection/page.js\n ** module id = 27\n ** module chunks = 0\n **/","define([\r\n  'lib/underscore',\r\n  'lib/backbone',\r\n  'component/grid/projection/base',\r\n  'component/grid/schema/properties',\r\n  'component/grid/model/response',\r\n], function (_, Backbone, BaseProjection /* , schemaProperties, Response */) {\r\n  var Model = BaseProjection.extend({\r\n    defaults: {\r\n      'property.template': {},\r\n    },\r\n    name: 'property-template',\r\n    update: function (options) {\r\n      // Model.__super__.update.call(this, options);\r\n\r\n      if (Model.__super__.update.call(this, options)) {\r\n        var model = this.src.data;\r\n        var opt = this.get('property.template');\r\n        var value = _.map(model.get('value'), function (item) {\r\n          var ret = _.clone(item);\r\n\r\n          _.each(opt, function (value, key) {\r\n            if (_.has(ret, key)) {\r\n              var res = value({\r\n                model: item,\r\n                property: key,\r\n              });\r\n\r\n              if (!_.isObject(ret[key])) {\r\n                var obj = new Object(ret[key]); // eslint-disable-line\r\n\r\n                if (_.isUndefined(ret[key])) {\r\n                  obj.$undefined = true;\r\n                }\r\n\r\n                if (_.isNull(ret[key])) {\r\n                  obj.$null = true;\r\n                }\r\n\r\n                ret[key] = obj;\r\n              }\r\n\r\n              ret[key].$html = res;\r\n            }\r\n          });\r\n\r\n          return ret;\r\n        });\r\n\r\n        this.patch({ value: value });\r\n      } else {\r\n        // todo [akamel] unset our properties only\r\n        // this.unset();\r\n      }\r\n    },\r\n  });\r\n\r\n  return Model;\r\n});\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/projection/property-template.js\n ** module id = 28\n ** module chunks = 0\n **/","define([\r\n  'lib/underscore',\r\n  'lib/backbone',\r\n  'component/grid/projection/base',\r\n  'component/grid/layout/template/row.checked.jade',\r\n], function (_, Backbone, BaseProjection, rowCheckTemp) {\r\n  'use strict';\r\n\r\n  var Model = BaseProjection.extend({\r\n    defaults: {\r\n      'column.checked': 'checkbox',   // the checkbox column\r\n      'row.check.id': 'Id',\r\n      'row.check.list': [],\r\n      'row.check.checked.all': false, // used to store user's check value for the special case no rows or all rows is disabled\r\n      'row.check.allow': function () {\r\n        return true;\r\n      },\r\n    },\r\n    name: 'row-check',\r\n    events: {\r\n      'layout:click:cell': 'tdClick',\r\n      'layout:click:header': 'thClick',\r\n    },\r\n    reset: function () {\r\n      this.set({\r\n        'row.check.checked.all': false,\r\n        'row.check.list': [],\r\n      });\r\n    },\r\n    update: function (options) {\r\n      // Model.__super__.update.call(this, options);\r\n\r\n      if (Model.__super__.update.call(this, options)) {\r\n        var checkId = this.get('row.check.id');\r\n        var ids = _.pluck(this.src.data.get('value'), checkId);\r\n        var checked = _.intersection(this.get('row.check.list'), ids);\r\n        var checkedLookup = _.object(checked, []);\r\n        var col = this.get('column.checked');\r\n        var columns = _.clone(this.src.data.get('columns'));\r\n        var checkedAll = true;\r\n        var hasCheckboxable = false;\r\n        var checkboxAllow = this.get('row.check.allow');\r\n        var checkboxColumn = _.find(columns, function (item) {\r\n          return item.property === col;\r\n        });\r\n\r\n        this.set('row.check.list', checked, { silent: true });\r\n\r\n        // todo [akamel] it is not clear how 'hasCheckboxable' is used\r\n        var value = _.map(this.src.data.get('value'), function (item) {\r\n          var ret = _.clone(item);\r\n          var checked = false;\r\n          var disabled = true;\r\n          var isAllowed = _.isFunction(checkboxAllow) ? checkboxAllow(ret) : checkboxAllow;\r\n\r\n          if (isAllowed) {\r\n            checked = _.has(checkedLookup, ret[checkId]);\r\n            checkedAll = checkedAll && checked;\r\n            disabled = false;\r\n            hasCheckboxable = true;\r\n          }\r\n\r\n          ret[col] = _.extend({}, ret[col], {\r\n            $html: rowCheckTemp({\r\n              checked: checked,\r\n              disabled: disabled,\r\n            }),\r\n          });\r\n\r\n          return ret;\r\n        });\r\n\r\n        // set the checkbox in th\r\n        if (!_.isUndefined(checkboxColumn)) {\r\n          var disabled = _.size(ids) === 0;\r\n          if (hasCheckboxable) {\r\n            checkboxColumn.$html = rowCheckTemp({\r\n              checked: checkedAll,\r\n              disabled: disabled,\r\n            });\r\n            this.attributes['row.check.checked.all'] = checkedAll;\r\n          } else {\r\n            checkboxColumn.$html = rowCheckTemp({\r\n              checked: this.get('row.check.checked.all'),\r\n              disabled: disabled,\r\n            });\r\n          }\r\n        }\r\n\r\n        this.patch({\r\n          value: value,\r\n          columns: columns,\r\n        });\r\n      } else {\r\n        // todo [akamel] unset our properties only\r\n        // this.unset();\r\n      }\r\n    },\r\n    tdClick: function (e, arg) {\r\n      var checkboxProperty = this.get('column.checked');\r\n\r\n      if (arg.property === checkboxProperty) {\r\n        var list = this.get('row.check.list');\r\n        var id = arg.model[this.get('row.check.id')];\r\n\r\n        this.set({\r\n          'row.check.list': arg.checked ? list.concat([id]) : _.without(list, id),\r\n        });\r\n\r\n        this.update();\r\n      }\r\n    },\r\n    thClick: function (e, arg) {\r\n      var checkboxProperty = this.get('column.checked');\r\n\r\n      if (arg.property === checkboxProperty) {\r\n        var list = [];\r\n\r\n        if (arg.checked) {\r\n          var checkId = this.get('row.check.id');\r\n          // TODO [akamel] this concept of check allow is strange\r\n          var checkboxAllow = this.get('row.check.allow');\r\n\r\n          // get the list of allowed rows' id\r\n          list = _.chain(this.data.get('value'))\r\n            .filter(function (item) {\r\n              return (_.isFunction(checkboxAllow) ? checkboxAllow(item) : checkboxAllow) && !_.isUndefined(item[checkId]);\r\n            })\r\n            .map(function (item) {\r\n              return item[checkId];\r\n            })\r\n            .value();\r\n        }\r\n\r\n        this.set({\r\n          'row.check.list': list,\r\n          'row.check.checked.all': arg.checked,\r\n        });\r\n\r\n        this.update();\r\n      }\r\n    },\r\n  });\r\n\r\n  return Model;\r\n});\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/projection/row-checkbox.js\n ** module id = 29\n ** module chunks = 0\n **/","var jade = require(\"D:\\\\Repos\\\\BingAds\\\\projection-grid\\\\node_modules\\\\jade\\\\lib\\\\runtime.js\");\n\nmodule.exports = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\n;var locals_for_with = (locals || {});(function (checked, disabled) {\nif ( checked)\n{\nif ( disabled)\n{\nbuf.push(\"<input type=\\\"checkbox\\\" checked disabled class=\\\"column-checkbox\\\">\");\n}\nelse\n{\nbuf.push(\"<input type=\\\"checkbox\\\" checked class=\\\"column-checkbox\\\">\");\n}\n}\nelse\n{\nif ( disabled)\n{\nbuf.push(\"<input type=\\\"checkbox\\\" disabled class=\\\"column-checkbox\\\">\");\n}\nelse\n{\nbuf.push(\"<input type=\\\"checkbox\\\" class=\\\"column-checkbox\\\">\");\n}\n}}.call(this,\"checked\" in locals_for_with?locals_for_with.checked:typeof checked!==\"undefined\"?checked:undefined,\"disabled\" in locals_for_with?locals_for_with.disabled:typeof disabled!==\"undefined\"?disabled:undefined));;return buf.join(\"\");\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/layout/template/row.checked.jade\n ** module id = 30\n ** module chunks = 0\n **/","define([\r\n  'lib/underscore',\r\n  'lib/backbone',\r\n  'component/grid/projection/base',\r\n  'component/grid/schema/properties',\r\n  'component/grid/model/response',\r\n], function (_, Backbone, BaseProjection /* , schemaProperties, Response */) {\r\n  var Model = BaseProjection.extend({\r\n    defaults: {},\r\n    name: 'row-index',\r\n    update: function (options) {\r\n      if (Model.__super__.update.call(this, options)) {\r\n        var model = this.src.data;\r\n        var skip = this.get('skip');\r\n        var value = _.map(model.get('value'), function (i, idx) {\r\n          var ret = _.clone(i);\r\n          ret.rowIndex = idx + (_.isFinite(skip) ? skip : 0) + 1;\r\n          return ret;\r\n        });\r\n\r\n        this.patch({ value: value });\r\n      } else {\r\n        // todo [akamel] unset our properties only\r\n        // this.unset();\r\n      }\r\n    },\r\n  });\r\n\r\n  return Model;\r\n});\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/projection/row-index.js\n ** module id = 31\n ** module chunks = 0\n **/","define([\r\n  'lib/underscore',\r\n  'component/grid/projection/base',\r\n  'component/grid/schema/properties',\r\n], function (_, BaseProjection, schemaProperties) {\r\n  var Model = BaseProjection.extend({\r\n\r\n    defaults: {\r\n      seed: null,\r\n    },\r\n\r\n    name: 'sink',\r\n\r\n    update: function () {\r\n      var value;\r\n\r\n      value = this.get('seed');\r\n\r\n      if (value) {\r\n        var select = schemaProperties.from(value);\r\n        this.patch({\r\n          value: value,\r\n          select: select,\r\n          count: _.size(value),\r\n        });\r\n      }\r\n    },\r\n\r\n  });\r\n\r\n  return Model;\r\n});\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/projection/sink.js\n ** module id = 32\n ** module chunks = 0\n **/","module.exports = {\r\n  TableLayout: require('./table'),\r\n  templates: {\r\n    table: require('./template/table.jade'),\r\n  },\r\n  renderers: require('./renderer/index'),\r\n};\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/layout/index.js\n ** module id = 33\n ** module chunks = 0\n **/","define([\r\n  'lib/underscore',\r\n  'lib/jquery',\r\n  'lib/backbone',\r\n], function (_, $, Backbone) {\r\n  var View = Backbone.View.extend({\r\n    events: {\r\n      'click th': 'thClick',\r\n      'click td': 'tdClick',\r\n      'change td>input.grid-text-input': 'editableStringChange',\r\n    },\r\n\r\n    initialize: function (options) {\r\n      _.bindAll(this, 'update', 'thClick', 'tdClick', 'dataFor');\r\n\r\n      this.options = _.extend(this.options, options);\r\n\r\n      // TODO [akamel] rename? this isn't a backbone data obj?\r\n      this.data = undefined;\r\n\r\n      this.container = options.container;\r\n      this.grid = options.grid;\r\n\r\n      this.renderers = _.map(this.options.renderers, function (Renderer) {\r\n        return new Renderer({ layout: this });\r\n      }.bind(this));\r\n\r\n      // TODO [akamel] make this conditional if these renderes are enabled\r\n      this.onViewPortChange = this.onViewPortChange.bind(this);\r\n      this.listenTo(this.container, 'scroll:container', this.onViewPortChange);\r\n      this.listenTo(this.container, 'resize:container', this.onViewPortChange);\r\n    },\r\n\r\n    onViewPortChange: function () {\r\n      this.scheduleDraw();\r\n    },\r\n\r\n    remove: function () {\r\n      this.container.stopListening(this.container);\r\n      Backbone.View.prototype.remove.apply(this, arguments);\r\n    },\r\n\r\n    thClick: function (e) {\r\n      var arg = this.dataFor(e.currentTarget);\r\n\r\n      if (arg.column) {\r\n        this.trigger('click:header', e, arg);\r\n      }\r\n    },\r\n\r\n    tdClick: function (e) {\r\n      var arg = this.dataFor(e.currentTarget);\r\n\r\n      if (arg.column) {\r\n        this.trigger('click:cell', e, arg);\r\n      }\r\n    },\r\n\r\n    editableStringChange: function (e) {\r\n      var arg = this.dataFor(e.currentTarget);\r\n      var colEditableStr = this.grid.projection.get('column.editable.string');\r\n\r\n      if (arg.column) {\r\n        if (_.isObject(colEditableStr) && !_.isUndefined(colEditableStr[arg.property])) {\r\n          this.grid.projection.get('projection:column-editable-string').trigger('change:string', e, arg);\r\n        } else {\r\n          this.trigger('change:editable.string', e, arg);\r\n        }\r\n      }\r\n    },\r\n\r\n    dataFor: function (el) {\r\n      if (!$.contains(this.el, el)) {\r\n        return undefined;\r\n      }\r\n\r\n      var $el = $(el);\r\n      // TODO [akamel] can we use target instead?\r\n      var $tr = $el.closest('tr', this.el);\r\n      var $closestTD = $el.closest('td', this.el);\r\n      var $closestTH = $el.closest('th', this.el);\r\n      var $td = _.size($closestTD) ? $closestTD : $closestTH;\r\n      var virtualizer = this.getRenderer('virtualization');\r\n      var i = $tr.index() + (virtualizer ? virtualizer.first : 0);\r\n      var j = $td.index();\r\n      // TODO [akamel] 1- check if $td is th; 2- throw if el is neither th or td as it is assumed in this function\r\n      var isHeader = $td.closest('thead', this.el).length;\r\n      var ret = { header: isHeader };\r\n\r\n      // we are not in header\r\n      if (!isHeader) {\r\n        ret.model = this.data.value[i];\r\n      }\r\n\r\n      ret.column = this.data.columns[j];\r\n      ret.property = this.data.columns[j].property;\r\n      if (ret.property === this.grid.projection.get('column.checked')) {\r\n        // TODO [akamel] this shouldn't be here\r\n        var checkbox = $el.find('.column-checkbox');\r\n        if (checkbox.length) {\r\n          ret.checked = checkbox[0].checked;\r\n        }\r\n      }\r\n      ret.grid = this.grid;\r\n\r\n      return ret;\r\n    },\r\n\r\n    // TODO [akamel] [perf] 8.5%\r\n    toHTML: function (value) {\r\n      var data = _.defaults({ value: value }, this.data);\r\n\r\n      _.each(data.columns, function (col) {\r\n        if (_.isObject(col.$metadata)) {\r\n          if (_.has(col.$metadata['attr.head'], 'class') && _.isArray(col.$metadata['attr.head'].class)) {\r\n            col.$metadata['attr.head'].class = col.$metadata['attr.head'].class.join(' ');\r\n          }\r\n\r\n          if (_.has(col.$metadata['attr.body'], 'class') && _.isArray(col.$metadata['attr.body'].class)) {\r\n            col.$metadata['attr.body'].class = col.$metadata['attr.body'].class.join(' ');\r\n          }\r\n\r\n         // TODO [akamel] merge attr that are on $metadata['attr']\r\n        }\r\n      });\r\n\r\n      return this.options.template(data);\r\n    },\r\n\r\n    update: function (model) {\r\n      _.each(this.renderers, function (renderer) {\r\n        renderer.update && renderer.update();\r\n      });\r\n\r\n      // TODO [akamel] consider moving this to a projection\r\n      var value = model.get('value');\r\n      // TODO [akamel] is this overriding the values we got from the projection //see column extend below\r\n      var columns = model.get('columns') || _.map(model.get('select'), function (i) {\r\n        return { property: i };\r\n      });\r\n      var colOptions = this.options.columns || {};\r\n      var orderby = {};\r\n\r\n      _.each(this.grid.projection.get('orderby'), function (element, index) {\r\n        var key = _.first(_.keys(element));\r\n        orderby[key] = {\r\n          dir: element[key],\r\n          index: index,\r\n        };\r\n      });\r\n\r\n      columns = _.filter(columns, function (col) {\r\n        return col.property.charAt(0) !== '$';\r\n      });\r\n\r\n      columns = _.map(columns, function (col) {\r\n      // TODO [akamel] consider filtering which props to copy/override\r\n        var delta = {};\r\n        if (orderby[col.property]) {\r\n          delta.$orderby = orderby[col.property];\r\n        }\r\n\r\n        return _.extend(col, colOptions[col.property], delta);\r\n      });\r\n\r\n      if (_.has(this.options.$metadata, 'class') && _.isArray(this.options.$metadata.class)) {\r\n        this.options.$metadata.class = this.options.$metadata.class.join(' ');\r\n      }\r\n\r\n      var delta = {\r\n        'value': value,\r\n        'columns': columns,\r\n        'columns.lookup': _.indexBy(columns, function (col) {\r\n          return col.property;\r\n        }),\r\n        '$metadata': this.options.$metadata,\r\n      };\r\n\r\n      this.data = _.defaults(delta, model.toJSON());\r\n\r\n      this.draw({ canSkipDraw: false });\r\n    },\r\n\r\n    scheduleDraw: function () {\r\n      if (!this.scheduledDraw) {\r\n        this.scheduledDraw = true;\r\n\r\n        window.requestAnimationFrame(function () {\r\n          this.scheduledDraw = false;\r\n          this.draw();\r\n        }.bind(this));\r\n      }\r\n    },\r\n\r\n    drawable: function () {\r\n      return this.data;\r\n    },\r\n\r\n    getRenderer: function (name) {\r\n      return _.find(this.renderers, function (r) {\r\n        return r.name === name;\r\n      });\r\n    },\r\n\r\n    draw: function (options) {\r\n      if (!this.drawable()) {\r\n        return;\r\n      }\r\n\r\n      this.trigger('render:beginning');\r\n\r\n      var renderers = this.renderers;\r\n      var i = 0;\r\n\r\n      var middleware = function (data, cb) {\r\n        var r = renderers[i++];\r\n        if (r) {\r\n          var clone = _.defaults({}, data, { css: {} });\r\n          delete clone.canSkipDraw;\r\n\r\n          r.draw(clone, _.once(function (err, res) {\r\n            res.canSkipDraw = data.canSkipDraw === true && res.canSkipDraw === true;\r\n            if (err) {\r\n              cb(err);\r\n            } else {\r\n              middleware(res || clone, cb);\r\n            }\r\n          }));\r\n        } else {\r\n          cb(undefined, data);\r\n        }\r\n      };\r\n\r\n      var canSkipDraw = _.has(options, 'canSkipDraw') ? options.canSkipDraw : true;\r\n\r\n      // this is _not_ and _cannot_ be async\r\n      middleware({ rows: this.data.value, canSkipDraw: canSkipDraw }, function (err, res) {\r\n        res.css && this.$el.css(res.css);\r\n\r\n        if (err) {\r\n          throw err;\r\n        }\r\n\r\n        if (res.canSkipDraw !== true) {\r\n          this.el.innerHTML = this.toHTML(res.rows);\r\n        }\r\n      }.bind(this));\r\n\r\n      this.trigger('render:finished');\r\n    },\r\n\r\n    render: function () {\r\n      this.grid.on('change:data', this.update);\r\n\r\n      // this.grid.projection.data.on('change', this.update);\r\n    },\r\n  });\r\n\r\n  View.partial = function (options) {\r\n    return View.extend({ options: options });\r\n  };\r\n\r\n  return View;\r\n});\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/layout/table.js\n ** module id = 34\n ** module chunks = 0\n **/","var jade = require(\"D:\\\\Repos\\\\BingAds\\\\projection-grid\\\\node_modules\\\\jade\\\\lib\\\\runtime.js\");\n\nmodule.exports = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\n;var locals_for_with = (locals || {});(function ($metadata, undefined, value) {\njade_mixins[\"th\"] = jade_interp = function(column){\nvar block = (this && this.block), attributes = (this && this.attributes) || {};\nvar attr = (column.$metadata || {})['attr.head'] || {}\nvar cls = [];\nif ( column.sortable)\n{\ncls.push('sortable');\n}\nif ( column.$orderby)\n{\ncls.push('orderby');\n}\ncls = cls.join(' ');\nbuf.push(\"<th\" + (jade.attrs(jade.merge([{\"class\": (jade_interp = [true], jade.joinClasses([cls].map(jade.joinClasses).map(function (cls, i) {   return jade_interp[i] ? jade.escape(cls) : cls })))},attributes,attr]), true)) + \">\");\nif ( column.$orderby)\n{\nif ( column.$orderby.dir > 0)\n{\nbuf.push(\"<span class=\\\"grid-asc\\\"></span>\");\n}\nelse\n{\nbuf.push(\"<span class=\\\"grid-des\\\"></span>\");\n}\n}\nif ( (column && column.$html))\n{\nbuf.push(null == (jade_interp = column.$html) ? \"\" : jade_interp);\n}\nelse\n{\nbuf.push(jade.escape(null == (jade_interp = (typeof column.$text != 'undefined')? column.$text : (column.property || column)) ? \"\" : jade_interp));\n}\nbuf.push(\"</th>\");\n};\njade_mixins[\"td\"] = jade_interp = function(row, column){\nvar block = (this && this.block), attributes = (this && this.attributes) || {};\nvar attr = (column.$metadata || {})['attr.body'] || {}\nbuf.push(\"<td\" + (jade.attrs(jade.merge([attributes,attr]), true)) + \">\");\nvar res = row[column.property]\nif ( (res && res.$html))\n{\nbuf.push(null == (jade_interp = res.$html) ? \"\" : jade_interp);\n}\nelse\n{\nbuf.push(jade.escape(null == (jade_interp = res) ? \"\" : jade_interp));\n}\nbuf.push(\"</td>\");\n};\nbuf.push(\"<table\" + (jade.attrs(jade.merge([{\"class\": \"table table-hover grid\"},$metadata || {}]), true)) + \"><thead><tr class=\\\"table__row--header\\\">\");\n// iterate locals['columns'] || []\n;(function(){\n  var $$obj = locals['columns'] || [];\n  if ('number' == typeof $$obj.length) {\n\n    for (var index = 0, $$l = $$obj.length; index < $$l; index++) {\n      var column = $$obj[index];\n\njade_mixins[\"th\"](column);\n    }\n\n  } else {\n    var $$l = 0;\n    for (var index in $$obj) {\n      $$l++;      var column = $$obj[index];\n\njade_mixins[\"th\"](column);\n    }\n\n  }\n}).call(this);\n\nbuf.push(\"</tr></thead><tbody>\");\n// iterate value\n;(function(){\n  var $$obj = value;\n  if ('number' == typeof $$obj.length) {\n\n    for (var i = 0, $$l = $$obj.length; i < $$l; i++) {\n      var row = $$obj[i];\n\nvar attr = (row.$metadata || {}).attr\nbuf.push(\"<tr\" + (jade.attrs(jade.merge([{\"class\": \"table__row--body\"},attr]), true)) + \">\");\n// iterate locals['columns'] || []\n;(function(){\n  var $$obj = locals['columns'] || [];\n  if ('number' == typeof $$obj.length) {\n\n    for (var j = 0, $$l = $$obj.length; j < $$l; j++) {\n      var column = $$obj[j];\n\njade_mixins[\"td\"](row, column);\n    }\n\n  } else {\n    var $$l = 0;\n    for (var j in $$obj) {\n      $$l++;      var column = $$obj[j];\n\njade_mixins[\"td\"](row, column);\n    }\n\n  }\n}).call(this);\n\nbuf.push(\"</tr>\");\n    }\n\n  } else {\n    var $$l = 0;\n    for (var i in $$obj) {\n      $$l++;      var row = $$obj[i];\n\nvar attr = (row.$metadata || {}).attr\nbuf.push(\"<tr\" + (jade.attrs(jade.merge([{\"class\": \"table__row--body\"},attr]), true)) + \">\");\n// iterate locals['columns'] || []\n;(function(){\n  var $$obj = locals['columns'] || [];\n  if ('number' == typeof $$obj.length) {\n\n    for (var j = 0, $$l = $$obj.length; j < $$l; j++) {\n      var column = $$obj[j];\n\njade_mixins[\"td\"](row, column);\n    }\n\n  } else {\n    var $$l = 0;\n    for (var j in $$obj) {\n      $$l++;      var column = $$obj[j];\n\njade_mixins[\"td\"](row, column);\n    }\n\n  }\n}).call(this);\n\nbuf.push(\"</tr>\");\n    }\n\n  }\n}).call(this);\n\nbuf.push(\"</tbody></table>\");}.call(this,\"$metadata\" in locals_for_with?locals_for_with.$metadata:typeof $metadata!==\"undefined\"?$metadata:undefined,\"undefined\" in locals_for_with?locals_for_with.undefined:typeof undefined!==\"undefined\"?undefined:undefined,\"value\" in locals_for_with?locals_for_with.value:typeof value!==\"undefined\"?value:undefined));;return buf.join(\"\");\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/layout/template/table.jade\n ** module id = 35\n ** module chunks = 0\n **/","module.exports = {\r\n  FixedHeader: require('./fixed-header'),\r\n  Virtualization: require('./virtualization'),\r\n};\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/layout/renderer/index.js\n ** module id = 36\n ** module chunks = 0\n **/","define([\r\n  'lib/jquery',\r\n  'lib/underscore',\r\n  'component/grid/layout/measure',\r\n  'component/grid/layout/px',\r\n], function ($, _, measure, px) {\r\n  function Renderer(options) {\r\n    this.options = options || {};\r\n\r\n    this.name = 'fixed-header';\r\n    this.layout = this.options.layout;\r\n  }\r\n\r\n  Renderer.prototype.draw = function (data, cb) {\r\n    data.vpMeasures = data.vpMeasures = measure.viewport.call(this.layout);\r\n    if (data.vpMeasures.top > 0) {\r\n      var $el = this.layout.$el;\r\n\r\n      // todo [akamel] assumes we have table rendered; measure/estimate otherwise\r\n\r\n      // a. compensate for header displacement\r\n      // .. as we set 'thead > tr' css position 'absolute'\r\n      var displacement = $el.find('thead tr').outerHeight();\r\n      _.extend(data.css, {\r\n        'padding-top': px.pixelify(px.parse(data.css['padding-top']) + displacement),\r\n      });\r\n\r\n      data.canSkipDraw = true;\r\n\r\n      // b. yield to render\r\n      cb(undefined, data);\r\n\r\n      // c. get newly rendered header\r\n      var $thead = $el.find('thead');\r\n      var $headTD = $el.find('thead > tr').children();\r\n      var $bodyTD = $el.find('tbody > tr:first-child').children();\r\n\r\n      var $ref = $bodyTD;\r\n      var $target = $headTD;\r\n\r\n      // d. capture header col computed width\r\n      // todo [akamel] [perf] 16%\r\n      this.colWidth = this.colWidth || _.map($ref, function (td) {\r\n        return $(td).width();\r\n      });\r\n\r\n      // todo [akamel] [perf] 12% -- consider replacing with css rule generation\r\n      // e. freeze column width\r\n      // e.1 freeze col width\r\n      _.each($target, function (td, index) {\r\n        $(td).width(px.pixelify(this.colWidth[index]));\r\n      }.bind(this));\r\n\r\n      _.each($ref, function (td, index) {\r\n        $(td).width(px.pixelify(this.colWidth[index]));\r\n      }.bind(this));\r\n\r\n      // f. set position 'fixed' and lock header at top of table\r\n      $thead.find('tr').css({\r\n        'position': this.layout.container.el === window ? 'fixed' : 'absolute',\r\n        'top': px.pixelify(this.layout.container.el === window ? 0 : this.layout.container.$el.scrollTop()),\r\n        'display': 'flex',\r\n        'margin-left': px.pixelify(-data.vpMeasures.offsetLeft),\r\n        'z-index': 1000,\r\n      });\r\n    } else {\r\n      _.extend(data.css, {\r\n        'padding-top': px.pixelify(px.parse(data.css['padding-top'])),\r\n      });\r\n\r\n      cb(undefined, data);\r\n    }\r\n  };\r\n\r\n  Renderer.partial = function (options) {\r\n    return function (o) {\r\n      return new Renderer(_.defaults({}, o, options));\r\n    };\r\n  };\r\n\r\n  return Renderer;\r\n});\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/layout/renderer/fixed-header.js\n ** module id = 37\n ** module chunks = 0\n **/","define([\r\n  'lib/jquery',\r\n  'lib/underscore',\r\n], function ($, _) {\r\n  function viewport(el, container) {\r\n    var $el = el ? $(el) : this.$el;\r\n\r\n    container = container || this.container;\r\n    var $viewport = container.$el;\r\n\r\n    var viewportTop = $viewport.scrollTop();\r\n    var viewportBottom = viewportTop + $viewport.height();\r\n    var viewportLeft = $viewport.scrollLeft();\r\n\r\n    var boundsTop = container.offset($el).top;\r\n    var boundsBottom = boundsTop + $el.innerHeight();\r\n    // var boundsLeft = $el.offset().left;\r\n\r\n    var visibleTop = Math.max(boundsTop, viewportTop);\r\n    var visibleBottom = Math.min(boundsBottom, viewportBottom);\r\n    // var visibleLeft = Math.max(boundsLeft, viewportLeft);\r\n\r\n    return {\r\n      top: visibleTop - boundsTop,\r\n      bottom: visibleBottom - boundsTop,\r\n      offsetLeft: viewportLeft,\r\n    };\r\n  }\r\n\r\n  function dimensions(el) {\r\n    var $el = el ? $(el) : this.$el;\r\n\r\n    // calculate heights\r\n    // a. header\r\n    var ret = {\r\n      rows: [],\r\n      thead: $el.find('thead > tr').outerHeight(),\r\n    };\r\n\r\n    // b. keep row info\r\n    $el.find('tbody').children('tr').each(function () {\r\n      ret.rows.push($(this).outerHeight());\r\n    });\r\n\r\n    // c. update average row height\r\n    var avg = _.reduce(ret.rows, function (memo, num) {\r\n      return memo + num;\r\n    }, 0) / (ret.rows.length === 0 ? 1 : ret.rows.length);\r\n\r\n    ret.avgRowHeight = avg;\r\n    ret.estimateHeight = (_.size(this.data.value) * avg) + ret.thead;\r\n\r\n    return ret;\r\n  }\r\n\r\n  function sample() {\r\n    // a. render test pass\r\n    var $tmpEl = $('<div style=\"visibility:hidden\" />');\r\n    var sample = _.first(this.data.value, 20);\r\n\r\n    this.$el.append($tmpEl);\r\n\r\n    $tmpEl[0].innerHTML = this.toHTML(sample);\r\n\r\n    // b. take measures\r\n    var ret = dimensions.call(this, $tmpEl);\r\n\r\n    // c. clean-up\r\n    $tmpEl.remove();\r\n\r\n    return ret;\r\n  }\r\n\r\n  return {\r\n    viewport: viewport,\r\n    dimensions: dimensions,\r\n    sample: sample,\r\n  };\r\n});\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/layout/measure.js\n ** module id = 38\n ** module chunks = 0\n **/","// todo [akamel] move to /component\r\ndefine(['lib/underscore'], function (_) {\r\n  function parse(a) {\r\n    return abs(parseFloat(a));\r\n  }\r\n\r\n  function abs(a) {\r\n    return _.isFinite(a) ? a : 0;\r\n  }\r\n\r\n  function pixelify(a) {\r\n    return abs(a) + 'px';\r\n  }\r\n\r\n  return {\r\n    parse: parse,\r\n    pixelify: pixelify,\r\n  };\r\n});\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/layout/px.js\n ** module id = 39\n ** module chunks = 0\n **/","// TODO [akamel] [bug] with large data set, jitters when scrolling to bottom\r\n\r\ndefine([\r\n  'lib/jquery',\r\n  'lib/underscore',\r\n  'component/grid/layout/measure',\r\n  'component/grid/layout/px',\r\n], function ($, _, measure, px) {\r\n  function rowHeight(row) {\r\n    return _.isNumber(row.__height) ? row.__height : this.__measures.avgRowHeight;\r\n  }\r\n\r\n  function estimateHeight(first, last) {\r\n    var rows = this.layout.data.value;\r\n\r\n    var ret = 0;\r\n    for (var i = first; i <= last; i++) {\r\n      ret += rowHeight.call(this, rows[i]);\r\n    }\r\n\r\n    return ret;\r\n  }\r\n\r\n  function rowAtOffset(offset) {\r\n    var rem = offset;\r\n\r\n    if (rem <= 0) {\r\n      return 0;\r\n    }\r\n\r\n    var ret = -1;\r\n    var count = _.size(this.layout.data.value);\r\n\r\n    while (rem > 0 && ret < count - 1) {\r\n      ret++;\r\n      rem -= rowHeight.call(this, ret);\r\n    }\r\n\r\n    return (ret < count) ? ret : -1;\r\n  }\r\n\r\n  function Renderer(options) {\r\n    this.options = options || {};\r\n\r\n    this.name = 'virtualization';\r\n    this.layout = this.options.layout;\r\n  }\r\n\r\n  Renderer.prototype.draw = function (data, cb) {\r\n    // a. define data set\r\n    var value = this.layout.data.value;\r\n    var count = _.size(value);\r\n    var first = 0;\r\n    var last = count - 1;\r\n\r\n    // b. render test pass / take initial measures\r\n    if (!this.__measures) {\r\n      var smpl = measure.sample.call(this.layout);\r\n      this.__measures = _.pick(smpl, 'avgRowHeight', 'estimateHeight', 'thead');\r\n\r\n      // b.1 set height based on measures estimate\r\n      this.layout.$el.css({\r\n        'padding-top': px.pixelify(this.__measures.estimateHeight),\r\n      });\r\n    }\r\n\r\n    // c. find visible viewport\r\n    data.vpMeasures = data.vpMeasures || measure.viewport.call(this.layout);\r\n\r\n    // d. find rendable rows\r\n    first = rowAtOffset.call(this, data.vpMeasures.top - this.__measures.thead);\r\n    last = rowAtOffset.call(this, data.vpMeasures.bottom - this.__measures.thead);\r\n\r\n    // d.1 add a few rows before and after our calculations to account for measurment estimation err\r\n    var errMarginRowCount = 5;\r\n\r\n    first -= errMarginRowCount;\r\n    last += errMarginRowCount;\r\n\r\n    first = Math.max(0, first);\r\n    last = Math.min((last < 0) ? count - 1 : last, count - 1);\r\n\r\n    var pTop = estimateHeight.call(this, 0, first - 1);\r\n    var pBottom = estimateHeight.call(this, last + 1, count - 1);\r\n\r\n    data.rows = value.slice(first, last + 1);\r\n\r\n    _.extend(data.css, {\r\n      'padding-top': px.pixelify(pTop + px.parse(data.css['padding-top'])),\r\n      'padding-bottom': px.pixelify(pBottom + px.parse(data.css['padding-bottom'])),\r\n    });\r\n\r\n    if (this.first === first && this.last === last) {\r\n      data.canSkipDraw = true;\r\n    }\r\n\r\n    // e. yield to render\r\n    cb(undefined, data);\r\n\r\n    // f. take new measures and update avg row height\r\n    // todo [akamel] [perf] 7.5%\r\n    var tblMeasure = measure.dimensions.call(this.layout);\r\n    _.each(tblMeasure.rows, function (height, i) {\r\n      value[i + first].__height = height;\r\n    });\r\n\r\n    var heights = _.chain(value)\r\n      .map(function (row) {\r\n        return row.__height;\r\n      }).compact().value();\r\n\r\n    if (_.size(heights)) {\r\n      this.__measures.avgRowHeight = _.reduce(heights, function (memo, num) {\r\n        return memo + num;\r\n      }, 0) / _.size(heights);\r\n    }\r\n\r\n    this.first = first;\r\n    this.last = last;\r\n  };\r\n\r\n  Renderer.prototype.update = function () {\r\n    delete this.__measures;\r\n  };\r\n\r\n  Renderer.partial = function (options) {\r\n    return function (o) {\r\n      return new Renderer(_.defaults({}, o, options));\r\n    };\r\n  };\r\n\r\n  return Renderer;\r\n});\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/layout/renderer/virtualization.js\n ** module id = 40\n ** module chunks = 0\n **/"],"sourceRoot":""}